<!DOCTYPE html>
<html>
  <head>
    <title>Screen Recording</title>
    <meta charset="UTF-8" />
  
  </head>

  <body>
  
    <button id="start">
      Start Recording
    </button>
    <button id="stop" disabled>
      Stop Recording
    </button>
    <button id="down">
        Download Recording
        </button>
        <h1>Web Screen Recorder</h1>
        
    <video autoplay loop>



    <script>//navigator.mediaDevices.getDisplayMedia({
    //  video:1,audio:1})
   

    const start = document.getElementById("start");
        const stop = document.getElementById("stop");
        const video = document.querySelector("video");
        let recorder, stream;
        
        async function startRecording() {
          stream = await navigator.mediaDevices.getDisplayMedia({
            video: {video:1,audio:1}
          });


          recorder = new MediaRecorder(stream);
        
          const chunks = [];
          recorder.ondataavailable = e => chunks.push(e.data);
          recorder.onstop = e => {
            const completeBlob = new Blob(chunks, { type: chunks[0].type });
            vid = URL.createObjectURL(completeBlob);
            video.src = vid;
            console.log(vid);

         
            down = document.querySelector('#down');
        down.addEventListener('click', function(event) {
          console.log(vid)
          window.open(vid); return false;
        })};
        
          recorder.start();
        }
        
        start.addEventListener("click", () => {
          start.setAttribute("disabled", true);
          stop.removeAttribute("disabled");
        
          startRecording();
        });
        
        stop.addEventListener("click", () => {
          stop.setAttribute("disabled", true);
          start.removeAttribute("disabled");
        
          recorder.stop();
          stream.getVideoTracks()[0].stop();
        });
        </script>

            <style>
                body{
                    text-align: center;
                    background-color: #42454a;
                       color: lightblue 
                       
                    }
                    body h2 {
                
                        color: #ed0909
                    }
                    body h3 {
                
                color : whitesmoke
                
                    }
                
                    body h1 {
                color: #c4ebf5
                
                
                    }
                
                    textarea {
                      background-color: #4d758f32;
                      color: rgb(255, 255, 255);
                      box-shadow: 0 30px 60px 0 rgba(0,0,0,0.24),0 100px 100px 0 rgba(0,0,0,0.19);
                      font-size: 25px;
                    height: 3.5in;
                     width: 95%; 
                     transform: translatex(1cm);
                     transform: translatey(1cm);
                    
                    }
                    video {
                        background-color: #4d758f32;
                      color: rgb(255, 255, 255);
                      box-shadow: 0 30px 60px 0 rgba(0,0,0,0.24),0 100px 100px 0 rgba(0,0,0,0.19);
                      font-size: 25px;
                    height: 7in;
                     width: 95%; 
                     transform: translatex(1cm);
                     transform: translatey(1cm);
}
                    button:active {
                        background-color: #3f35d3;
                        box-shadow: 0 30px 60px 0 rgba(0,0,0,0.24),0 70px 50px 0 rgba(0,0,0,0.19);
                        transform: translatey(8px);
                    }
                    button:hover {
                        padding:  15px;
                        background-color: #3770C8;
                        box-shadow: 0 30px 60px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
                    }
                    button {
                        align-items: center;
                        display: inline-block;
                        padding: 5 9px;
                        font-size: 20px;
                        cursor: pointer;
                        text-align: center;
                        text-decoration: none;
                        outline: none;
                        color: rgb(255, 255, 255);
                        background-color: #42509e;
                        border: none;
                        border-radius: 15px;
                     
                        
                          
                      
                       
                      }
                      input {
                        align-items: center;
                        display: inline-block;
                        padding: 3 5px;
                        font-size: 17px;
                        cursor: pointer;
                        text-align: center;
                        text-decoration: none;
                        outline: none;
                        color: rgb(255, 255, 255);
                        background-color: #42509e;
                        border: none;
                        border-radius: 15px;
                     
                
                      }
                
                
                
                
                
                
                
                
                
                
                
                
                
                      body {
                      background: linear-gradient(90deg, #42454a 0%,#60697a 30%,#575280 67%, #4c5158 100%);
                        background-size: 1000%;
                        animation: background 31s linear alternate infinite;
                      }
                      
                      @keyframes background {
                        from {
                          background-position: 0 0;
                        }
                        to {
                          background-position: 100% 0;
                        }
                      }
                
                
                
                
                
                
                    button {
                     float: right;
                
                   }
                   h1 {
                     float: left;
                     transform: translatex(1cm);
                     
                   }
                input{
                  float: right;
                }
                   </style>
  </body>
</html>
